<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pokémon Type Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .type-grid {
      display: flex;
      flex-wrap: wrap;
      max-width: 600px;
    }
    .type-button {
      flex: 1 0 20%;
      box-sizing: border-box;
      margin: 5px;
      padding: 10px 15px;
      border: 2px solid #333;
      border-radius: 5px;
      cursor: pointer;
      user-select: none;
      text-align: center;
      color: white;
      position: relative;
    }
    .selected {
      outline: 3px solid #4caf50;
      outline-offset: -3px;
      box-shadow: 0 0 6px #4caf50;
    }
    button.calculate, button.clear {
      margin-top: 15px;
      padding: 10px 20px;
      margin-right: 10px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    button.calculate {
      background-color: #2196F3;
      color: white;
    }
    button.clear {
      background-color: #f44336;
      color: white;
    }
    table {
      margin-top: 20px;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px 12px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h1>Pokémon Type Effectiveness Calculator</h1>

  <div id="typeButtons" class="type-grid"></div>

  <button class="calculate" onclick="calculateEffectiveness()">Calculate Best Types</button>
  <button class="clear" onclick="clearSelection()">Clear Selection</button>

  <table id="resultTable" style="display:none;">
    <thead>
      <tr><th>Type</th><th>Effectiveness</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const typeChart = {
      Normal:     { Rock: 0.5, Ghost: 0, Steel: 0.5 },
      Fire:       { Fire: 0.5, Water: 0.5, Grass: 2, Ice: 2, Bug: 2, Rock: 0.5, Dragon: 0.5, Steel: 2 },
      Water:      { Fire: 2, Water: 0.5, Grass: 0.5, Ground: 2, Rock: 2, Dragon: 0.5 },
      Grass:      { Fire: 0.5, Water: 2, Grass: 0.5, Poison: 0.5, Ground: 2, Flying: 0.5, Bug: 0.5, Rock: 2, Dragon: 0.5, Steel: 0.5 },
      Electric:   { Water: 2, Electric: 0.5, Grass: 0.5, Ground: 0, Flying: 2, Dragon: 0.5 },
      Ice:        { Fire: 0.5, Water: 0.5, Grass: 2, Ice: 0.5, Ground: 2, Flying: 2, Dragon: 2, Steel: 0.5 },
      Fighting:   { Normal: 2, Ice: 2, Poison: 0.5, Flying: 0.5, Psychic: 0.5, Bug: 0.5, Rock: 2, Ghost: 0, Dark: 2, Steel: 2, Fairy: 0.5 },
      Poison:     { Grass: 2, Poison: 0.5, Ground: 0.5, Rock: 0.5, Ghost: 0.5, Steel: 0, Fairy: 2 },
      Ground:     { Fire: 2, Electric: 2, Grass: 0.5, Poison: 2, Flying: 0, Bug: 0.5, Rock: 2, Steel: 2 },
      Flying:     { Electric: 0.5, Grass: 2, Fighting: 2, Bug: 2, Rock: 0.5, Steel: 0.5 },
      Psychic:    { Fighting: 2, Poison: 2, Psychic: 0.5, Dark: 0, Steel: 0.5 },
      Bug:        { Fire: 0.5, Grass: 2, Fighting: 0.5, Poison: 0.5, Flying: 0.5, Psychic: 2, Ghost: 0.5, Dark: 2, Steel: 0.5, Fairy: 0.5 },
      Rock:       { Fire: 2, Ice: 2, Fighting: 0.5, Ground: 0.5, Flying: 2, Bug: 2, Steel: 0.5 },
      Ghost:      { Normal: 0, Psychic: 2, Ghost: 2, Dark: 0.5 },
      Dragon:     { Dragon: 2, Steel: 0.5, Fairy: 0 },
      Dark:       { Fighting: 0.5, Psychic: 2, Ghost: 2, Dark: 0.5, Fairy: 0.5 },
      Steel:      { Fire: 0.5, Water: 0.5, Electric: 0.5, Ice: 2, Rock: 2, Fairy: 2, Steel: 0.5 },
      Fairy:      { Fire: 0.5, Fighting: 2, Poison: 0.5, Dragon: 2, Dark: 2, Steel: 0.5 }
    };

    const typeColors = {
      Normal: '#A8A77A', Fire: '#EE8130', Water: '#6390F0', Electric: '#F7D02C', Grass: '#7AC74C',
      Ice: '#96D9D6', Fighting: '#C22E28', Poison: '#A33EA1', Ground: '#E2BF65', Flying: '#A98FF3',
      Psychic: '#F95587', Bug: '#A6B91A', Rock: '#B6A136', Ghost: '#735797', Dragon: '#6F35FC',
      Dark: '#705746', Steel: '#B7B7CE', Fairy: '#D685AD'
    };

    const typeList = Object.keys(typeChart).sort();
    const typeButtonsContainer = document.getElementById('typeButtons');
    let selectedTypes = [];

    typeList.forEach(type => {
      const btn = document.createElement('div');
      btn.className = 'type-button';
      btn.textContent = type;
      btn.style.backgroundColor = typeColors[type];
      btn.title = `Select ${type} as a defender type.`;
      btn.onclick = () => {
        if (selectedTypes.includes(type)) {
          selectedTypes = selectedTypes.filter(t => t !== type);
          btn.classList.remove('selected');
        } else if (selectedTypes.length < 2) {
          selectedTypes.push(type);
          btn.classList.add('selected');
        }
      };
      typeButtonsContainer.appendChild(btn);
    });

    function clearSelection() {
      selectedTypes = [];
      document.querySelectorAll('.type-button').forEach(btn => btn.classList.remove('selected'));
      document.getElementById('resultTable').style.display = 'none';
    }

    function calculateEffectiveness() {
      const [defType1, defType2] = selectedTypes;
      const effectiveness = {};

      for (const atkType in typeChart) {
        let mult = 1;
        if (typeChart[atkType][defType1] !== undefined) {
          mult *= typeChart[atkType][defType1];
        }
        if (defType2 && typeChart[atkType][defType2] !== undefined) {
          mult *= typeChart[atkType][defType2];
        }
        effectiveness[atkType] = mult;
      }

      const sorted = Object.entries(effectiveness)
        .filter(([type, multiplier]) => multiplier > 1)
        .sort((a, b) => b[1] - a[1]);

      const tbody = document.querySelector('#resultTable tbody');
      tbody.innerHTML = '';

      (sorted.length > 0 ? sorted : [['None', 1]]).forEach(([type, eff]) => {
        const row = tbody.insertRow();
        row.insertCell(0).textContent = type;
        row.insertCell(1).textContent = eff;
      });

      document.getElementById('resultTable').style.display = 'table';
    }
  </script>
</body>
</html>
